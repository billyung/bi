<div id=mainHeading><div class=boldLabel> COLLECTIONS:</div><div id=headingLabel></div></div>
<div id=remainingObj></div>

<script language="javascript" type="text/javascript">

var completed = "Collected";
var completedPC = "% " + completed;
var nameHeading = "Loan Officers" + remainingTextValue;

setMetaDataVar(nameHeading, completed, completedPC, "getRemainingLOCollection");
var drillClick = "CollectionsCenter";
var tableParentId = Dashboards.getQueryParameter("branchId");


var remaining =
	{
 		name: "remaining",
		type: "tableComponent",
    		chartDefinition: dbMetaDataVar.remainingDef,
		parameters: [["currentDate","currentDate"], ["tableParentId","tableParentId"], ["showall","showallParam"]],
		cdaParams: [["currentDate","currentDate"], ["tableParentId","tableParentId"], ["showall","showallParam"]],
    		htmlObject: "remainingObj",
    		executeAtStart: true,
  		postExecution: function(){
					$("#remainingObj td:nth-child(2)").each(function(index) {
						var extraParams = "&branchId=" + Dashboards.getQueryParameter("branchId");
						extraParams = extraParams + "&branchName=" + Dashboards.getQueryParameter("branchName");
						extraParams = extraParams + "&LOId=" + $(this).parent().children("td:nth-child(1)").text();
						extraParams = extraParams + "&LOName=" + $(this).parent().children("td:nth-child(2)").text();
						var linkBranchName = '<a href="#" onclick="linkToPage(' + "'" + drillClick + "', '" + extraParams + "'" + ');return false;">' + $(this).text() + '</a>';
						$(this).html(linkBranchName);
  					});

					decorateRemainingObj();
  				}
  };

Dashboards.init([remaining]);
$("#headingLabel").html(" All Loan Officers" + remainingTextValue);

$(document).ready(function() {
	finalisePage();
});

</script>

